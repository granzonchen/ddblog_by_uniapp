{"version":3,"sources":["webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?5a64","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?aaf6","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?ca14","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?4768","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?e629","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue?c73c","webpack:///C:/Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue"],"names":["cache","getApp","parserCache","CssHandler","require","document","fs","uni","getFileSystemManager","MpHtmlParser","hash","str","i","length","charCodeAt","config","name","data","scaleAnimation","showAnimation","nodes","components","trees","props","type","Boolean","default","String","Object","watch","html","setContent","mounted","imgList","each","f","newSrc","setItem","src","includes","j","c","Math","random","toUpperCase","substring","fileInfo","match","filePath","wx","env","USER_DATA_PATH","Date","now","writeFile","encoding","success","res","beforeDestroy","item","unlink","methods","observed","Parser","useCache","hashValue","parse","$emit","prototype","toString","call","PoweredBy","DFS","node","attrs","trustAttrs","LabelHandler","ignoreTags","splice","children","_STACK","push","popNode","pop","console","warn","$nextTick","videoContexts","getContext","component","$options","observered","lazyLoad","createIntersectionObserver","_observer","disconnect","relativeToViewport","top","bottom","observe","imgLoad","context","createVideoContext","id","unshift","autoplay","createAudioContext","play","autosetTitle","setNavigationBarTitle","title","text","$children","createSelectorQuery","select","boundingClientRect","exec","width","showWithAnimation","getText","replace","block","navigateTo","obj","useAnchor","fail","errMsg","Scroll","selector","in","selectViewport","scrollOffset","scrollTop","pageScrollTo","getVideoContext","_tap","e","gestureZoom","timeStamp","lastTime","zoomIn","animation","translateX","scale","step","touches","pageY","currentTarget","offsetTop","initY","clientY","duration","initX","pageX","offsetLeft","createAnimation","transformOrigin","timingFunction","tMax","tMin","tX","export","_touchstart","lastX","_touchmove","diff","abs"],"mappings":"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","file":"common/jyf-parser/components/jyf-parser/jyf-parser.js","sourcesContent":["import mod from \"-!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns, recyclableRender, components } from \"./jyf-parser.vue?vue&type=template&id=cf3f0414&\"\nvar renderjs\nimport script from \"./jyf-parser.vue?vue&type=script&lang=js&\"\nexport * from \"./jyf-parser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jyf-parser.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\apps\\\\开发工具\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('cf3f0414')) {\n      api.createRecord('cf3f0414', component.options)\n    } else {\n      api.reload('cf3f0414', component.options)\n    }\n    module.hot.accept(\"./jyf-parser.vue?vue&type=template&id=cf3f0414&\", function () {\n      api.rerender('cf3f0414', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/lvccz/Documents/HBuilderProjects/myblog/common/jyf-parser/components/jyf-parser/jyf-parser.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=template&id=cf3f0414&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../apps/开发工具/HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jyf-parser.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport trees from \"./libs/trees\";\nconst cache = getApp().parserCache = {};\nconst CssHandler = require(\"./libs/CssHandler.js\");\nvar document; // document 补丁包 https://jin-yufeng.github.io/Parser/#/instructions?id=document\n\nconst fs = uni.getFileSystemManager ? uni.getFileSystemManager() : null;\n\nconst MpHtmlParser = require(\"./libs/MpHtmlParser.js\");\n// 计算 cache 的 key\nfunction hash(str) {\n\tfor (var i = str.length, hash = 5381; i--;)\n\t\thash += (hash << 5) + str.charCodeAt(i);\n\treturn hash;\n};\n\nconst config = require('./libs/config.js');\nexport default {\n\tname: 'parser',\n\tdata() {\n\t\treturn {\n\n\n\n\n\n\n\t\t\tscaleAnimation: '',\n\t\t\tshowAnimation: '',\n\t\t\tnodes: []\n\t\t}\n\t},\n\n\tcomponents: {\n\t\ttrees\n\t},\n\n\tprops: {\n\t\t\"html\": null,\n\n\t\t\"autopause\": {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\n\t\t\"autosetTitle\": {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\t\"domain\": String,\n\n\n\n\n\t\t\"gestureZoom\": Boolean,\n\n\n\t\t\"lazyLoad\": Boolean,\n\n\t\t\"selectable\": Boolean,\n\t\t\"tagStyle\": Object,\n\t\t\"showWithAnimation\": Boolean,\n\t\t\"useAnchor\": Boolean,\n\t\t\"useCache\": Boolean\n\t},\n\twatch: {\n\t\thtml(html) {\n\t\t\tthis.setContent(html, true);\n\t\t}\n\t},\n\tmounted() {\n\t\t// 图片数组\n\t\tthis.imgList = [];\n\t\tthis.imgList.each = function(f) {\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar newSrc = f(this[i], i, this);\n\t\t\t\tif (newSrc) this.setItem(i, newSrc);\n\t\t\t}\n\t\t}\n\t\tthis.imgList.setItem = function(i, src) {\n\t\t\tif (!src) return;\n\n\t\t\t// 去重\n\t\t\tif (src.includes(\"http\") && this.includes(src)) {\n\t\t\t\tvar newSrc = '';\n\t\t\t\tfor (var j = 0, c; c = src[j]; j++) {\n\t\t\t\t\tnewSrc += Math.random() > 0.5 ? c.toUpperCase() : c;\n\t\t\t\t\tif (c == '/' && src[j - 1] != '/' && src[j + 1] != '/') break;\n\t\t\t\t}\n\t\t\t\tnewSrc += src.substring(j + 1);\n\t\t\t\treturn this[i] = newSrc;\n\t\t\t}\n\n\t\t\tthis[i] = src;\n\t\t\t// 暂存 data:image\n\t\t\tif (src.includes(\"data:image\")) {\n\t\t\t\tvar fileInfo = src.match(/data:image\\/(\\S+?);(\\S+?),(.+)/);\n\t\t\t\tif (!fileInfo) return;\n\n\t\t\t\tvar filePath = `${wx.env.USER_DATA_PATH}/${Date.now()}.${fileInfo[1]}`;\n\t\t\t\tfs && fs.writeFile({\n\t\t\t\t\tfilePath,\n\t\t\t\t\tdata: fileInfo[3],\n\t\t\t\t\tencoding: fileInfo[2],\n\t\t\t\t\tsuccess: (res) => this[i] = filePath\n\t\t\t\t})\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t}\n\t\t}\n\t\tif (!this.nodes.length) this.setContent(this.html, true);\n\t},\n\tbeforeDestroy: function() {\n\n\n\n\t\tthis.imgList.each((item) => {\n\n\n\n\n\n\n\n\n\t\t\tif (item && item.includes(uni.env.USER_DATA_PATH))\n\t\t\t\tfs && fs.unlink({\n\t\t\t\t\tfilePath: item\n\t\t\t\t})\n\n\t\t})\n\t},\n\tmethods: {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\tsetContent(html, observed) {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tif (!html)\n\t\t\t\treturn this.nodes = [];\n\t\t\telse if (typeof html == \"string\") {\n\t\t\t\tvar Parser = new MpHtmlParser(html, this);\n\t\t\t\t// 缓存读取\n\t\t\t\tif (this.useCache) {\n\t\t\t\t\tvar hashValue = hash(html);\n\t\t\t\t\tif (cache[hashValue])\n\t\t\t\t\t\tthis.nodes = cache[hashValue];\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.nodes = Parser.parse();\n\t\t\t\t\t\tcache[hashValue] = this.nodes;\n\t\t\t\t\t}\n\t\t\t\t} else this.nodes = Parser.parse();\n\t\t\t\tthis.$emit(\"parse\", this.nodes);\n\t\t\t} else if (Object.prototype.toString.call(html) == \"[object Array]\") {\n\t\t\t\t// 非本插件产生的 array 需要进行一些转换\n\t\t\t\tif (html.length && html[0].PoweredBy != \"Parser\") {\n\t\t\t\t\tvar Parser = new MpHtmlParser(html, this);\n\n\t\t\t\t\tfunction DFS(nodes) {\n\t\t\t\t\t\tfor (var i = 0, node; node = nodes[i]; i++) {\n\t\t\t\t\t\t\tif (node.type == \"text\") continue;\n\t\t\t\t\t\t\tnode.attrs = node.attrs || {};\n\t\t\t\t\t\t\tfor (var item in node.attrs) {\n\t\t\t\t\t\t\t\tif (!config.trustAttrs[item]) node.attrs[item] = void 0;\n\t\t\t\t\t\t\t\telse if (typeof node.attrs[item] != \"string\") node.attrs[item] = node.attrs[item].toString();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconfig.LabelHandler(node, Parser);\n\t\t\t\t\t\t\tif (config.ignoreTags[node.name]) {\n\t\t\t\t\t\t\t\tnodes.splice(i--, 1);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (node.children && node.children.length) {\n\t\t\t\t\t\t\t\tParser._STACK.push(node);\n\t\t\t\t\t\t\t\tDFS(node.children);\n\t\t\t\t\t\t\t\tParser.popNode(Parser._STACK.pop());\n\t\t\t\t\t\t\t} else node.children = void 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tDFS(html);\n\t\t\t\t}\n\t\t\t\tthis.nodes = html;\n\t\t\t} else if (typeof html == \"object\" && html.nodes) {\n\t\t\t\tthis.nodes = html.nodes;\n\t\t\t\tconsole.warn(\"错误的 html 类型：object 类型已废弃\");\n\t\t\t} else\n\t\t\t\treturn console.warn(\"错误的 html 类型：\" + typeof html);\n\n\n\n\t\t\tif (document) this.document = new document(this.nodes, \"nodes\", this);\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.imgList.length = 0;\n\t\t\t\tthis.videoContexts = [];\n\t\t\t\tconst getContext = (components) => {\n\t\t\t\t\tfor (var i = components.length; i--;) {\n\t\t\t\t\t\tlet component = components[i];\n\t\t\t\t\t\tif (component.$options.name == \"trees\") {\n\t\t\t\t\t\t\tvar observered = false;\n\t\t\t\t\t\t\tfor (var j = component.nodes.length, item; item = component.nodes[--j];) {\n\t\t\t\t\t\t\t\tif (item.c) continue;\n\t\t\t\t\t\t\t\tif (item.name == \"img\") {\n\t\t\t\t\t\t\t\t\tif (item.attrs.i)\n\t\t\t\t\t\t\t\t\t\tthis.imgList.setItem(item.attrs.i, item.attrs.src);\n\n\t\t\t\t\t\t\t\t\tif (!observered) {\n\t\t\t\t\t\t\t\t\t\tobservered = true;\n\t\t\t\t\t\t\t\t\t\tif (this.lazyLoad && uni.createIntersectionObserver) {\n\t\t\t\t\t\t\t\t\t\t\tif (component._observer) component._observer.disconnect();\n\t\t\t\t\t\t\t\t\t\t\tcomponent._observer = uni.createIntersectionObserver(component);\n\t\t\t\t\t\t\t\t\t\t\tcomponent._observer.relativeToViewport({\n\t\t\t\t\t\t\t\t\t\t\t\ttop: 1000,\n\t\t\t\t\t\t\t\t\t\t\t\tbottom: 1000\n\t\t\t\t\t\t\t\t\t\t\t}).observe(\"._img\", res => {\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent.imgLoad = true;\n\t\t\t\t\t\t\t\t\t\t\t\tif (component._observer) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent._observer.disconnect();\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent._observer = null;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\t\t\t\tcomponent.imgLoad = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\telse if (item.name == \"video\") {\n\t\t\t\t\t\t\t\t\tvar context = uni.createVideoContext(item.attrs.id, component);\n\t\t\t\t\t\t\t\t\tcontext.id = item.attrs.id;\n\t\t\t\t\t\t\t\t\tthis.videoContexts.unshift(context);\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\telse if (item.name == \"audio\" && item.attrs.autoplay)\n\t\t\t\t\t\t\t\t\twx.createAudioContext(item.attrs.id, component).play();\n\n\t\t\t\t\t\t\t\t// 设置标题\n\t\t\t\t\t\t\t\telse if (item.name == \"title\" && this.autosetTitle && item.children[0].type == \"text\")\n\t\t\t\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\t\t\t\ttitle: item.children[0].text\n\t\t\t\t\t\t\t\t\t})\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (component.$children.length)\n\t\t\t\t\t\t\tgetContext(component.$children)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\n\t\t\t\t\tgetContext(this.$children);\n\n\t\t\t\t\tthis.createSelectorQuery()\n\n\n\n\n\t\t\t\t\t\t.select(\"._contain\").boundingClientRect().exec(res => {\n\t\t\t\t\t\t\tthis.width = (res[0] ? res[0] : res).width;\n\t\t\t\t\t\t\tthis.$emit(\"ready\", res);\n\t\t\t\t\t\t});\n\n\n\n\n\n\n\n\n\t\t\t})\n\n\t\t\tif (this.showWithAnimation) this.showAnimation = \"animation:show .5s\";\n\t\t},\n\t\tgetText(nodes = this.html || this.nodes) {\n\n\n\n\n\t\t\tvar text = '';\n\t\t\tfor (var i = 0, node; node = nodes[i++];) {\n\t\t\t\tif (node.type == \"text\") text += node.text.replace(/&nbsp;/g, '\\u00A0').replace(/&lt;/g, '<').replace(/&gt;/g, '>')\n\t\t\t\t\t.replace(/&amp;/g, '&');\n\t\t\t\telse if (node.type == \"br\") text += '\\n';\n\t\t\t\telse {\n\t\t\t\t\t// 块级标签前后加换行\n\t\t\t\t\tvar block = node.name == 'p' || node.name == \"div\" || node.name == \"tr\" || node.name == \"li\" || (node.name[0] ==\n\t\t\t\t\t\t'h' && node.name[1] > '0' && node.name[1] < '7');\n\t\t\t\t\tif (block && text && text[text.length - 1] != '\\n') text += '\\n';\n\t\t\t\t\tif (node.children) text += this.getText(node.children);\n\t\t\t\t\tif (block && text[text.length - 1] != '\\n') text += '\\n';\n\t\t\t\t\telse if (node.name == \"td\" || node.name == \"th\") text += '\\t';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn text;\n\n\t\t},\n\t\tnavigateTo(obj) {\n\t\t\tif (!this.useAnchor)\n\t\t\t\treturn obj.fail && obj.fail({\n\t\t\t\t\terrMsg: \"Anchor is disabled\"\n\t\t\t\t})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tvar Scroll = (selector, component) => {\n\t\t\t\tuni.createSelectorQuery().in(component ? component : this).select(selector).boundingClientRect().selectViewport()\n\t\t\t\t\t.scrollOffset()\n\t\t\t\t\t.exec(res => {\n\t\t\t\t\t\tif (!res || !res[0])\n\t\t\t\t\t\t\treturn obj.fail && obj.fail({\n\t\t\t\t\t\t\t\terrMsg: \"Label not found\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tobj.scrollTop = res[1].scrollTop + res[0].top;\n\t\t\t\t\t\tuni.pageScrollTo(obj);\n\t\t\t\t\t})\n\t\t\t}\n\t\t\tif (!obj.id) Scroll(\"._contain\");\n\t\t\telse {\n\n\t\t\t\tScroll(\"._contain >>> #\" + obj.id + ', ._contain >>> .' + obj.id);\n\n\n\n\n\n\n\t\t\t}\n\n\t\t},\n\t\tgetVideoContext(id) {\n\t\t\tif (!id) return this.videoContexts;\n\t\t\telse\n\t\t\t\tfor (var i = this.videoContexts.length; i--;)\n\t\t\t\t\tif (this.videoContexts[i].id == id) return this.videoContexts[i];\n\t\t\treturn null;\n\t\t},\n\t\t_tap(e) {\n\n\t\t\tif (this.gestureZoom && e.timeStamp - this.lastTime < 300) {\n\t\t\t\tif (this.zoomIn) {\n\t\t\t\t\tthis.animation.translateX(0).scale(1).step();\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop: (e.touches[0].pageY - e.currentTarget.offsetTop + this.initY) / 2 - e.touches[0].clientY,\n\t\t\t\t\t\tduration: 400\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tvar initX = e.touches[0].pageX - e.currentTarget.offsetLeft;\n\t\t\t\t\tthis.initY = e.touches[0].pageY - e.currentTarget.offsetTop;\n\t\t\t\t\tthis.animation = uni.createAnimation({\n\t\t\t\t\t\ttransformOrigin: `${initX}px ${this.initY}px 0`,\n\t\t\t\t\t\ttimingFunction: \"ease-in-out\"\n\t\t\t\t\t});\n\n\n\n\t\t\t\t\tthis.animation.scale(2).step();\n\t\t\t\t\tthis.tMax = initX / 2;\n\t\t\t\t\tthis.tMin = (initX - this.width) / 2;\n\t\t\t\t\tthis.tX = 0;\n\t\t\t\t}\n\t\t\t\tthis.zoomIn = !this.zoomIn;\n\t\t\t\tthis.scaleAnimation = this.animation.export();\n\t\t\t}\n\t\t\tthis.lastTime = e.timeStamp;\n\n\t\t},\n\t\t_touchstart(e) {\n\n\t\t\tif (e.touches.length == 1)\n\t\t\t\tthis.initX = this.lastX = e.touches[0].pageX;\n\n\t\t},\n\t\t_touchmove(e) {\n\n\t\t\tvar diff = e.touches[0].pageX - this.lastX;\n\t\t\tif (this.zoomIn && e.touches.length == 1 && Math.abs(diff) > 20) {\n\t\t\t\tthis.lastX = e.touches[0].pageX;\n\t\t\t\tif ((this.tX <= this.tMin && diff < 0) || (this.tX >= this.tMax && diff > 0))\n\t\t\t\t\treturn;\n\t\t\t\tthis.tX += (diff * Math.abs(this.lastX - this.initX) * 0.05);\n\t\t\t\tif (this.tX < this.tMin) this.tX = this.tMin;\n\t\t\t\tif (this.tX > this.tMax) this.tX = this.tMax;\n\t\t\t\tthis.animation.translateX(this.tX).step();\n\t\t\t\tthis.scaleAnimation = this.animation.export();\n\t\t\t}\n\n\t\t}\n\t}\n}\n"],"sourceRoot":""}